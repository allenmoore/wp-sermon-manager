!function u(o,l,r){function s(t,e){if(!l[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(d)return d(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var a=l[t]={exports:{}};o[t][0].call(a.exports,function(e){return s(o[t][1][e]||e)},a,a.exports,u,o,l,r)}return l[t].exports}for(var d="function"==typeof require&&require,e=0;e<r.length;e++)s(r[e]);return s}({1:[function(e,t,n){"use strict";var i;(new(((i=e("./components/admin/MediaUploader"))&&i.__esModule?i:{default:i}).default)).init()},{"./components/admin/MediaUploader":2}],2:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.uploadField=document.getElementById(wpsmImgUploader.key),this.uploadThumb=document.getElementById("wpsm-image-wrapper"),this.uploads=[],this.insertObject=this.insertObject.bind(this),this.deleteObject=this.deleteObject.bind(this),this.openModal=this.openModal.bind(this),this.handleEvents=this.handleEvents.bind(this)}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"getValue",value:function(e){return e.value}},{key:"getLength",value:function(e){return e.length}},{key:"getModels",value:function(e){return e.models}},{key:"setValue",value:function(e,t){return e.value=t,e.value}},{key:"setMetaData",value:function(e){return{edit:e.changed.editLink,id:e.id,name:e.changed.title,src:e.changed.sizes.thumbnail.url}}},{key:"insertObject",value:function(e){for(var t,n=e.state().get("selection"),i=this.getLength(n),a=this.getModels(n),u=document.createElement("img"),o={},l=0;l<i;l++)t=a[l],o=this.setMetaData(t),this.uploads.push(o),this.uploadField.value=o.id,u.src=o.src,this.uploadThumb.appendChild(u)}},{key:"deleteObject",value:function(e){var t=this.getFieldValue(this.uploadField);e.preventDefault(),this.uploads.splice(this.uploads.indexOf(t),1),this.uploadField.value="",this.uploadThumb.remove()}},{key:"openModal",value:function(e){var t,n=this;(t=wp.media({frame:"post",title:"Choose an Image",library:{type:"image"},multiple:!1,button:{text:"Select Image"}})).open(),t.on("insert",function(){n.insertObject(t)}),e.preventDefault()}},{key:"handleEvents",value:function(){var e=document.getElementById("wpsm-add-button"),t=document.getElementById("wpsm-delete-button");e.onclick=this.openModal,t.onclick=this.deleteObject}},{key:"init",value:function(){this.handleEvents()}}]),e}();n.default=a},{}]},{},[1]);
//# sourceMappingURL=build.admin.min.js.map
